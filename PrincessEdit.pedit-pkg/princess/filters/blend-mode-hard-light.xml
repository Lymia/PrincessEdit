<!-- Based on https://codepen.io/mullany/pen/pJpdea/ -->
<filter id="fbPride">
    <feMerge result="background">
      <feMergeNode in="BackgroundImage" />
    </feMerge>

    <feBlend mode="screen" in="SourceGraphic" in2="background" result="screenALL"/>
    <feBlend mode="multiply" in="SourceGraphic" in2="background" result="multiplyALL"/>

    <feColorMatrix in="background" type="luminanceToAlpha" result="L2ABackground"/>
    <feColorMatrix in="SourceGraphic" type="luminanceToAlpha" result="L2AOverlay"/>
    <feComposite operator="arithmetic" in="L2ABackground" in2="L2AOverlay" k2="-1" k3="1" result="alphadiff"/>
    <feColorMatrix type="matrix" values= "0 0 0 0 0
                                          0 0 0 0 0
                                          0 0 0 0 0
                                          0 0 0 1 0.2" result="alphadiff"/>

    <feComposite operator="in" in="multiplyALL" in2="alphadiff" result="multFINAL"/>

    <feComposite operator="out" in="background" in2="multFINAL" result="screenMASK"/>
    <feComposite operator="in" in="screenALL" in2="screenMASK" result="screenFINAL"/>
    <feComposite operator="arithmetic" in="screenFINAL" in2="multFINAL" k2="1" k3="1"/>

    <feComposite operator="in" in2='background'/>
</filter>
